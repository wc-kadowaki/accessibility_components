# Accessibility

アクセシブルにするメリット

- 支援技術に正しい情報を伝えることができる
- キーボード操作がしやすくなる

## link

リソースへの参照を提供するウィジェット

### 要点

- キーボード操作、右クリックのメニュー、キーボードを押しながらクリックなど button との仕様の違いを考え適切に使用する

## button

### 要点

ボタンの役割によって必要な aria が異なるため必要なものを組み合わせ実装する

- ボタンの状態を視覚的だけでなく支援技術に伝える為に aria-pressed
- ボタンの役割を支援技術に伝える為に aria-haspopup
- ボタンがどの要素をコントロールしているのかを aria-controls
- ボタンがコントロールしている要素の状態を aria-expanded
- ボタンにテキストが含まれず視覚的にしかどのようなボタンかわからない場合に読み上げソフトで読まれるように aria-label

## アコーディオン

### 要点

- アコーディオンヘッダーのタイトルは button 要素に含むように実装する
- アコーディオンヘッダーは aria-level の値を設定した role heading の要素にする（h~）
- 紐づけているパネルが表示されているときはヘッダーの button 要素には aria-expanded true を設定非表示の場合 false
- ヘッダーの button 要素には紐づけているパネルの内容が含む要素の ID に設定された aria-controls を設定
- パネルが非表示の時は内包しているフォーカス可能な要素にフォーカスしないようにする

## パンくずリスト

### 要点

- リンクが複数ある場合階層構造を表すため順序付きリスト(ol)を使用して構造化する
- nav 要素を使用してリンクのグループであることを伝える
- nav 要素がパンくずリストであることを aria-label を使用して伝える
- リンクの間の線は視覚的なものなので css で表現することでスクリーンリーダーに読まれないようにする
- もし現在のページが link の場合 aria-current="page" を使用して現在のページであることを伝える

## モーダル

### 要点

- モーダルが表示されている場合は下のウィンドウは不活性にし操作などを受けないようにする
- 一部のモーダルでは不活性なウィンドウを操作しようとした際にモーダルを閉じる（任意）
- モーダルを表示している場合 Tab や Tab + Shift でのフォーカスの移動はモーダルを閉じずにモーダルの外側へのフォーカスをさせない
  モーダル内の最後の要素にフォーカスがある場合に Tab を押下した場合モーダル内の最初の要素にフォーカスを移動する
  モーダル内の最初の要素にフォーカスがある場合に Tab + Shift を押下した場合モーダル内の最後の要素にフォーカスを移動する
- モーダルを表示した際フォーカスはモーダル内の要素に移動させる
- モーダルを表示している際に Escape を押下した場合モーダルを閉じる
- モーダルを表示した際一般的には最初にフォーカス可能な要素に設定されるがコンテンツの性質と大きさによって異なることがある
  - リストや表、複数の段落などコンテンツの内容を理解するためコンテンツの最初の静的な要素に tabindex="-1"を設定しフォーカス不可の要素でもフォーカスを受け付けるようにし -1 を設定することでキーボードフォーカスを受けなくする

#### 補足

html の dialog 要素での実装については上記の要点を満たしているか確認できていないため今回一旦スルーしています。
